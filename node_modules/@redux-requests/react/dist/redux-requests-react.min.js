!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react"),require("react-redux"),require("@redux-requests/core"),require("redux")):"function"==typeof define&&define.amd?define(["react","react-redux","@redux-requests/core","redux"],r):"object"==typeof exports?exports.ReduxRequestsReact=r(require("react"),require("react-redux"),require("@redux-requests/core"),require("redux")):e.ReduxRequestsReact=r(e.React,e.ReactRedux,e.ReduxRequests,e.Redux)}(self,(function(e,r,t,o){return(()=>{var n={634:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Mutation:()=>g,Query:()=>y,RequestErrorBoundary:()=>_,RequestsProvider:()=>x,useDispatchRequest:()=>s.useDispatch,useMutation:()=>h,useQuery:()=>p,useSubscription:()=>R});var o=t(888),n=t.n(o),s=t(145),u=t(342);const a=n().createContext({suspense:!1,suspenseSsr:!1,autoLoad:!1,autoReset:!1,throwError:!1});function i(){return(i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var c=[];const p=function(e){var r=e.variables,t=void 0===r?c:r,n=e.autoLoad,p=e.autoReset,l=e.throwError,d=e.suspense,y=e.suspenseSsr,f=function(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,["variables","autoLoad","autoReset","throwError","suspense","suspenseSsr"]),v=(0,o.useContext)(a);y=void 0===y?v.suspenseSsr:y,d=void 0===d?v.suspense:d,n=void 0===n?v.autoLoad:n,p=void 0===p?v.autoReset:p,l=void 0===l?v.throwError:l;var h=(0,s.useDispatch)(),q=(0,s.useStore)(),m=""+f.type+(f.requestKey||""),g=(0,o.useCallback)((function(){return h((f.action||f.type).apply(void 0,t))}),[f.action,f.type].concat(t)),b=(0,o.useCallback)((function(){h((0,u.stopPolling)([{requestType:f.type,requestKey:f.requestKey}]))}),[f.type,f.requestKey]);(0,o.useEffect)((function(){n&&g()}),[n,g]);var R=(0,s.useSelector)((0,u.getQuerySelector)(f));if((0,o.useEffect)((function(){return h((0,u.addWatcher)(m)),function(){h((0,u.removeWatcher)(m)),p&&!q.getState().requests.watchers[m]&&h((0,u.resetRequests)([{requestType:f.type,requestKey:f.requestKey}],!0,!1))}}),[f.type,f.requestKey]),y&&(R.loading||R.pristine)){if(n&&R.pristine)throw g();throw h((0,u.joinRequest)(m,n))}if(d&&!y&&R.loading)throw h((0,u.joinRequest)(m));if(l&&R.error)throw{error:R.error,type:f.type,requestKey:f.requestKey};return(0,o.useMemo)((function(){return i({},R,{load:g,stopPolling:b})}),[R,g,b])};function l(){return(l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}t(980),t(570);var d=function(e){var r=e.type,t=e.requestKey,o=e.selector,a=e.defaultData,i=e.multiple,c=e.children,p=e.component,d=e.isDataEmpty,y=e.showLoaderDuringRefetch,f=e.noDataMessage,v=e.errorComponent,h=e.errorComponentProps,q=e.loadingComponent,m=e.loadingComponentProps,g=function(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,["type","requestKey","selector","defaultData","multiple","children","component","isDataEmpty","showLoaderDuringRefetch","noDataMessage","errorComponent","errorComponentProps","loadingComponent","loadingComponentProps"]),b=(0,s.useSelector)(o||(0,u.getQuerySelector)({type:r,requestKey:t,defaultData:a,multiple:i})),R=d(b);return b.loading&&(y||R)?q?n().createElement(q,l({downloadProgress:b.downloadProgress,uploadProgress:b.uploadProgress},m)):null:b.error?v?n().createElement(v,l({error:b.error},h)):null:R?f:c?c(b):n().createElement(p,l({query:b},g))};d.defaultProps={isDataEmpty:function(e){return Array.isArray(e.data)?0===e.data.length:!e.data},showLoaderDuringRefetch:!0,noDataMessage:null,multiple:!1},d.propTypes={};const y=d;function f(){return(f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var v=[];const h=function(e){var r=e.variables,t=void 0===r?v:r,n=e.autoReset,i=e.throwError,c=e.suspense,p=function(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,["variables","autoReset","throwError","suspense"]),l=(0,o.useContext)(a);c=void 0===c?l.suspense:c,n=void 0===n?l.autoReset:n,i=void 0===i?l.throwError:i;var d=(0,s.useDispatch)(),y=(0,s.useStore)(),h=""+p.type+(p.requestKey||""),q=(0,o.useCallback)((function(){return d((p.action||p.type).apply(void 0,t))}),[p.action,p.type].concat(t)),m=(0,s.useSelector)((0,u.getMutationSelector)(p));if((0,o.useEffect)((function(){return d((0,u.addWatcher)(h)),function(){d((0,u.removeWatcher)(h)),n&&!y.getState().requests.watchers[h]&&d((0,u.resetRequests)([{requestType:p.type,requestKey:p.requestKey}],!1))}}),[p.type,p.requestKey]),c&&m.loading)throw d((0,u.joinRequest)(h));if(i&&m.error)throw{error:m.error,type:p.type,requestKey:p.requestKey};return(0,o.useMemo)((function(){return f({},m,{mutate:q})}),[m,q])};function q(){return(q=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var m=function(e){var r=e.type,t=e.selector,o=e.requestKey,a=e.children,i=e.component,c=function(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,["type","selector","requestKey","children","component"]),p=(0,s.useSelector)(t||(0,u.getMutationSelector)({type:r,requestKey:o}));return a?a(p):n().createElement(i,q({mutation:p},c))};m.propTypes={};const g=m;var b=[];const R=function(e){var r=e.variables,t=void 0===r?b:r,n=e.type,a=e.requestKey,i=e.action,c=e.active,p=void 0===c||c,l=(0,s.useDispatch)(),d=(0,s.useStore)(),y=""+n+(a||"");(0,o.useEffect)((function(){p&&l((i||n).apply(void 0,t))}),[p,i,n].concat(t)),(0,o.useEffect)((function(){return l((0,u.addWatcher)(y)),function(){l((0,u.removeWatcher)(y)),d.getState().requests.watchers[y]||l((0,u.stopSubscriptions)([y]))}}),[n,a])};var S=t(463);function O(){return(O=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var w=function(e){return e},E=function(e){var r=e.children,t=e.requestsConfig,i=e.extraReducers,c=e.store,p=e.getMiddleware,l=void 0===p?w:p,d=e.suspense,y=void 0!==d&&d,f=e.autoLoad,v=void 0!==f&&f,h=e.autoReset,q=void 0!==h&&h,m=e.throwError,g=void 0!==m&&m,b=e.suspenseSsr,R=void 0!==b&&b,E=e.getStore,x=void 0===E?void 0:E,K=e.initialState,P=void 0===K?void 0:K,_=(0,o.useMemo)((function(){return{suspense:y,autoLoad:v,autoReset:q,throwError:g,suspenseSsr:R}}),[y,v,q,g,R]),j=(0,o.useMemo)((function(){if(c)return(0,u.createRequestsStore)(c);var e=(0,u.handleRequests)(t),r=e.requestsReducer,o=e.requestsMiddleware,n=(0,S.combineReducers)(O({requests:r},i)),s="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.compose;return(0,u.createRequestsStore)((0,S.createStore)(n,P,s(S.applyMiddleware.apply(void 0,l(o)))))}),[]);return x&&x(j),n().createElement(s.Provider,{store:j},n().createElement(a.Provider,{value:_},r))};E.propTypes={};const x=E;var K=function(e){var r,t;function o(r){var t;return(t=e.call(this,r)||this).state={error:null},t}t=e,(r=o).prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t,o.getDerivedStateFromError=function(e){return{error:e}};var n=o.prototype;return n.componentDidCatch=function(e){var r=this.props,t=r.type,o=r.requestKey,n=r.setActiveError;t===e.type&&o===e.requestKey&&n(e)},n.render=function(){var e=this.props,r=e.children,t=e.type,o=e.requestKey,n=e.fallback;return this.state.error&&t===this.state.error.type&&o===this.state.error.requestKey?n(this.state.error):r},o}(n().Component),P=function(e){var r=e.type,t=e.requestKey,s=e.autoReset,u=e.children,i=e.fallback,c=(0,o.useContext)(a),l=(0,o.useState)(null),d=l[0],y=l[1],f=(0,o.useState)(0),v=f[0],q=f[1];s=void 0===s?c.autoReset:s;var m=p({type:r,requestKey:t,autoReset:s,autoLoad:!1,throwError:!1,suspense:!1,suspenseSsr:!1}),g=h({type:r,requestKey:t,autoReset:s,throwError:!1,suspense:!1});return(0,o.useEffect)((function(){m.error||m.loading||g.error||g.loading||!d||(y(null),q((function(e){return e+1})))}),[m.error,m.loading,g.error,g.loading,d]),n().createElement(K,{key:v,setActiveError:y,fallback:i,type:r,requestKey:t},u)};P.propTypes={};const _=P},262:(e,r,t)=>{"use strict";var o=t(586);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,r,t,n,s,u){if(u!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:s,resetWarningCache:n};return t.PropTypes=t,t}},980:(e,r,t)=>{e.exports=t(262)()},586:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},866:(e,r)=>{"use strict";if("function"==typeof Symbol&&Symbol.for){var t=Symbol.for;t("react.element"),t("react.portal"),t("react.fragment"),t("react.strict_mode"),t("react.profiler"),t("react.provider"),t("react.context"),t("react.forward_ref"),t("react.suspense"),t("react.suspense_list"),t("react.memo"),t("react.lazy"),t("react.block"),t("react.server.block"),t("react.fundamental"),t("react.debug_trace_mode"),t("react.legacy_hidden")}},570:(e,r,t)=>{"use strict";t(866)},342:e=>{"use strict";e.exports=t},888:r=>{"use strict";r.exports=e},145:e=>{"use strict";e.exports=r},463:e=>{"use strict";e.exports=o}},s={};function u(e){if(s[e])return s[e].exports;var r=s[e]={exports:{}};return n[e](r,r.exports,u),r.exports}return u.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return u.d(r,{a:r}),r},u.d=(e,r)=>{for(var t in r)u.o(r,t)&&!u.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},u.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u(634)})()}));
//# sourceMappingURL=redux-requests-react.min.js.map